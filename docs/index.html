<style type="text/css">
	.main {
		display: flex;
		flex-flow: row;
		align-content: center;
		justify-content: center;
	}

	.sidebar {
		max-width:200px;
		height:100%;
	}

	.sidebarHeader {
		font-size:24px;
		font-family:Courier New, Courier, monospace;
	}

	.sidebarElement {
		border: 1px solid lightgrey;
		border-radius: 5px;
		cursor: pointer;
		padding: 5px;
		font-size: 15px;
		font-family: monospace;
		font-weight: bold;
		color:black;
	}
	.sidebarElement:hover {
		border: 1px solid black;
		color:dimgrey;
	}
</style>
<div class="main">
	<div class="sidebar">
		<div class="sidebarHeader">
			Header
		</div>
		<div id="sidebarList" class="sidebarList"></div>
	</div>
	<iframe id="pageContainer" class="content"></iframe>
</div>
<script type="text/javascript">
	window.addEventListener("load", function () {
		function ajax(url = "/", verb = "GET", data = null) {
			return new Promise(function (resolve, reject) {
				const req = new XMLHttpRequest();
				req.onreadystatechange = function () {
					if (req.readyState === 4) {
						if (req.status >= 200 && req.status < 400) {
							resolve(req.response);
						} else {
							reject(new Error("XHR HTTP Error " + req.status + ": " + req.statusText));
						}
					}
				};
				req.open(verb, url);
				req.responseType = "text";
				req.setRequestHeader("X-Requested-With", "XMLHttpRequest");
				req.send(data);
			});
		}
		const pageContainer = document.getElementById("pageContainer");
		const elementTemplate = document.createElement("div");
		elementTemplate.setAttribute("class", "sidebarTemplate")
		const sidebarList = document.getElementById("sidebarList");
		ajax("index.json").then(function (body) {
			const titles = JSON.parse(body);
			titles.forEach(function (title) {
				const template = elementTemplate.cloneNode(true);
				template.insertAdjacentText("afterbegin", title);
				sidebarList.appendChild(template);
				template.addEventListener("click", () => pageContainer.location = title + ".md"));
			});
		});
	});
</script>